var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function c(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function l(n,e,o){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(e,o))}function i(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function p(t){return document.createTextNode(t)}function m(){return p(" ")}function h(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t){return""===t?null:+t}function v(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function y(t,n){t.value=null==n?"":n}function b(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}function x(t,n,e){t.classList[e?"add":"remove"](n)}let k;function w(t){k=t}function _(){if(!k)throw new Error("Function called outside component initialization");return k}function E(t){_().$$.on_mount.push(t)}function M(t){_().$$.on_destroy.push(t)}function z(){const t=_();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach((n=>{n.call(t,r)}))}}}const S=[],C=[],O=[],I=[],P=Promise.resolve();let j=!1;function q(t){O.push(t)}let A=!1;const G=new Set;function L(){if(!A){A=!0;do{for(let t=0;t<S.length;t+=1){const n=S[t];w(n),N(n.$$)}for(w(null),S.length=0;C.length;)C.pop()();for(let t=0;t<O.length;t+=1){const n=O[t];G.has(n)||(G.add(n),n())}O.length=0}while(S.length);for(;I.length;)I.pop()();j=!1,A=!1,G.clear()}}function N(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(q)}}const T=new Set;let B;function F(){B={r:0,c:[],p:B}}function R(){B.r||r(B.c),B=B.p}function Y(t,n){t&&t.i&&(T.delete(t),t.i(n))}function D(t,n,e,o){if(t&&t.o){if(T.has(t))return;T.add(t),B.c.push((()=>{T.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function H(t,n){D(t,1,1,(()=>{n.delete(t.key)}))}function J(t){t&&t.c()}function K(t,n,o,s){const{fragment:l,on_mount:i,on_destroy:u,after_update:a}=t.$$;l&&l.m(n,o),s||q((()=>{const n=i.map(e).filter(c);u?u.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(q)}function Q(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function U(t,n){-1===t.$$.dirty[0]&&(S.push(t),j||(j=!0,P.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function V(n,e,c,s,l,i,u=[-1]){const f=k;w(n);const d=n.$$={fragment:null,ctx:null,props:i,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:o(),dirty:u,skip_bound:!1};let p=!1;if(d.ctx=c?c(n,e.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),p&&U(n,t)),e})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!s&&s(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(a)}else d.fragment&&d.fragment.c();e.intro&&Y(n.$$.fragment),K(n,e.target,e.anchor,e.customElement),L()}w(f)}class W{$destroy(){Q(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const X=[];function Z(n,e=t){let o;const r=[];function c(t){if(s(n,t)&&(n=t,o)){const t=!X.length;for(let t=0;t<r.length;t+=1){const e=r[t];e[1](),X.push(e,n)}if(t){for(let t=0;t<X.length;t+=2)X[t][0](X[t+1]);X.length=0}}}return{set:c,update:function(t){c(t(n))},subscribe:function(s,l=t){const i=[s,l];return r.push(i),1===r.length&&(o=e(c)||t),s(n),()=>{const t=r.indexOf(i);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const tt=Z(0),nt=Z(0),et=Z(3),ot=Z(5),rt=Z(30);function ct(n){let e,o,r,c,s;return{c(){e=f("div"),o=d("svg"),r=d("circle"),$(r,"r",st+"px"),$(r,"cx","50%"),$(r,"cy","50%"),$(r,"fill","red"),$(r,"stroke","black"),$(r,"stroke-width",lt),$(o,"class","canvas svelte-cqd0f0"),b(o,"height",2*st+lt),b(o,"width",2*st+lt),$(e,"class","enemy svelte-cqd0f0"),b(e,"left","calc(50% + "+n[0]+"px)"),b(e,"top","calc(50% + "+n[1]+"px)")},m(t,l){u(t,e,l),i(e,o),i(o,r),c||(s=h(r,"mousedown",n[2]),c=!0)},p(t,[n]){1&n&&b(e,"left","calc(50% + "+t[0]+"px)"),2&n&&b(e,"top","calc(50% + "+t[1]+"px)")},i:t,o:t,d(t){t&&a(e),c=!1,s()}}}let st=20,lt=2;function it(t,n,e){let o,r,c;l(t,nt,(t=>e(8,r=t))),l(t,et,(t=>e(9,c=t)));let s,i,u,{id:a}=n,f=0,d=0;const p=z();return E((()=>{(()=>{const t=Math.random(),n=Math.random();let e=Math.random(),o=Math.random();t>.5&&(e*=-1),n>.5&&(o*=-1),s=e,i=o})(),u=tt.subscribe((t=>{var n;e(0,f+=s*(n=c)),e(1,d+=i*n),o>r&&p("die",a)}))})),M((()=>{u()})),t.$$set=t=>{"id"in t&&e(3,a=t.id)},t.$$.update=()=>{3&t.$$.dirty&&(o=Math.sqrt(f*f+d*d))},[f,d,()=>{p("kill",a)},a]}class ut extends W{constructor(t){super(),V(this,t,it,ct,s,{id:3})}}function at(t,n,e){const o=t.slice();return o[18]=n[e],o}function ft(t){let n,e,o,c,s,l,d,g,y,b,x;return{c(){n=f("div"),e=f("section"),o=f("h1"),o.textContent="Game Over",c=p("\n                You scored: "),s=p(t[1]),l=m(),d=f("button"),d.textContent="Back to Menu",g=m(),y=f("button"),y.textContent="Submit Score",$(o,"class","svelte-9fzr4d"),y.disabled=!0,$(e,"class","game-over svelte-9fzr4d"),$(n,"class","game-over-backdrop svelte-9fzr4d")},m(r,a){u(r,n,a),i(n,e),i(e,o),i(e,c),i(e,s),i(e,l),i(e,d),i(e,g),i(e,y),b||(x=[h(d,"click",t[8]),h(y,"click",t[9])],b=!0)},p(t,n){2&n&&v(s,t[1])},d(t){t&&a(n),b=!1,r(x)}}}function dt(t,e){let o,r,c;const s=[e[18]];let l={};for(let t=0;t<s.length;t+=1)l=n(l,s[t]);return r=new ut({props:l}),r.$on("kill",e[10]),r.$on("die",e[11]),{key:t,first:null,c(){o=p(""),J(r.$$.fragment),this.first=o},m(t,n){u(t,o,n),K(r,t,n),c=!0},p(t,n){e=t;const o=4&n?function(t,n){const e={},o={},r={$$scope:1};let c=t.length;for(;c--;){const s=t[c],l=n[c];if(l){for(const t in s)t in l||(o[t]=1);for(const t in l)r[t]||(e[t]=l[t],r[t]=1);t[c]=l}else for(const t in s)r[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}(s,[(c=e[18],"object"==typeof c&&null!==c?c:{})]):{};var c;r.$set(o)},i(t){c||(Y(r.$$.fragment,t),c=!0)},o(t){D(r.$$.fragment,t),c=!1},d(t){t&&a(o),Q(r,t)}}}function pt(t){let n,e,o,r,c,s,l,h,g,y,b,k,w,_,E,M,z,S,C,O=[],I=new Map,P=t[3]&&ft(t),j=t[2];const q=t=>t[18].id;for(let n=0;n<j.length;n+=1){let e=at(t,j,n),o=q(e);I.set(o,O[n]=dt(o,e))}return{c(){n=f("div"),P&&P.c(),e=m(),o=f("section"),r=p("Score: "),c=p(t[1]),s=p("\n        Remaining time: "),l=p(t[0]),h=m(),g=f("div"),y=d("svg"),b=d("circle"),w=m(),_=f("div"),E=f("div");for(let t=0;t<O.length;t+=1)O[t].c();M=m(),z=d("svg"),S=d("circle"),$(o,"class","info svelte-9fzr4d"),$(b,"id","valid-area"),$(b,"r",k=t[4]+"px"),$(b,"cx","50%"),$(b,"cy","50%"),$(b,"stroke","black"),$(b,"stroke-width","2"),$(b,"class","svelte-9fzr4d"),$(y,"class","canvas game-canvas svelte-9fzr4d"),$(E,"id","enemy-canvas"),$(E,"class","svelte-9fzr4d"),$(_,"class","canvas svelte-9fzr4d"),$(S,"id","center-dot"),$(S,"r","30px"),$(S,"cx","50%"),$(S,"cy","50%"),$(S,"fill","rgb(240, 240, 240)"),$(S,"stroke","black"),$(S,"stroke-width","2"),$(z,"class","canvas over-enemies svelte-9fzr4d"),$(g,"id","playground-container"),$(g,"class","svelte-9fzr4d"),x(g,"isGameOver",t[3]),$(n,"class","game svelte-9fzr4d")},m(t,a){u(t,n,a),P&&P.m(n,null),i(n,e),i(n,o),i(o,r),i(o,c),i(o,s),i(o,l),i(n,h),i(n,g),i(g,y),i(y,b),i(g,w),i(g,_),i(_,E);for(let t=0;t<O.length;t+=1)O[t].m(E,null);i(g,M),i(g,z),i(z,S),C=!0},p(t,[o]){t[3]?P?P.p(t,o):(P=ft(t),P.c(),P.m(n,e)):P&&(P.d(1),P=null),(!C||2&o)&&v(c,t[1]),(!C||1&o)&&v(l,t[0]),(!C||16&o&&k!==(k=t[4]+"px"))&&$(b,"r",k),196&o&&(j=t[2],F(),O=function(t,n,e,o,r,c,s,l,i,u,a,f){let d=t.length,p=c.length,m=d;const h={};for(;m--;)h[t[m].key]=m;const $=[],g=new Map,v=new Map;for(m=p;m--;){const t=f(r,c,m),l=e(t);let i=s.get(l);i?o&&i.p(t,n):(i=u(l,t),i.c()),g.set(l,$[m]=i),l in h&&v.set(l,Math.abs(m-h[l]))}const y=new Set,b=new Set;function x(t){Y(t,1),t.m(l,a),s.set(t.key,t),a=t.first,p--}for(;d&&p;){const n=$[p-1],e=t[d-1],o=n.key,r=e.key;n===e?(a=n.first,d--,p--):g.has(r)?!s.has(o)||y.has(o)?x(n):b.has(r)?d--:v.get(o)>v.get(r)?(b.add(o),x(n)):(y.add(r),d--):(i(e,s),d--)}for(;d--;){const n=t[d];g.has(n.key)||i(n,s)}for(;p;)x($[p-1]);return $}(O,o,q,1,t,j,I,E,H,dt,null,at),R()),8&o&&x(g,"isGameOver",t[3])},i(t){if(!C){for(let t=0;t<j.length;t+=1)Y(O[t]);C=!0}},o(t){for(let t=0;t<O.length;t+=1)D(O[t]);C=!1},d(t){t&&a(n),P&&P.d();for(let t=0;t<O.length;t+=1)O[t].d()}}}function mt(t,n,e){let o,r,c,s,i;l(t,rt,(t=>e(14,r=t))),l(t,ot,(t=>e(15,c=t))),l(t,tt,(t=>e(16,s=t))),l(t,nt,(t=>e(4,i=t)));const u=z();let a,f,d=0,p=[],m=r;E((()=>{nt.set(400),a=setInterval((()=>{o&&(clearInterval(a),clearInterval(f)),h(1-c/100),tt.update((t=>t+1))}),20),f=setInterval((()=>{e(0,m--,m)}),1e3)})),M((()=>{clearInterval(a),clearInterval(f)}));const h=t=>{Math.random()>t&&(console.log("Spawned enemy"),e(2,p=[...p,{id:s}]))},$=t=>{e(2,p=p.filter((n=>n.id!==t))),e(1,d++,d)},g=t=>{e(2,p=p.filter((n=>n.id!==t))),e(1,d--,d),e(0,m--,m)};return t.$$.update=()=>{1&t.$$.dirty&&e(3,o=m<=0)},[m,d,p,o,i,u,$,g,()=>u("close",null),()=>u("close",{name:"PlayerOne",score:d}),t=>$(t.detail),t=>g(t.detail)]}class ht extends W{constructor(t){super(),V(this,t,mt,pt,s,{})}}function $t(n){let e,o,c,s,l,d,v,b,x,k,w;return{c(){e=f("section"),o=p("Settings: Enemy Speed Mutator:\n\t\t\t"),c=f("input"),s=p("\n\t\t\tEnemy Spawn Mutator:\n\t\t\t"),l=f("input"),d=p("\n\t\t\tTime Limit:\n\t\t\t"),v=f("input"),b=m(),x=f("button"),x.textContent="Play Game",$(c,"type","number"),$(l,"type","number"),$(v,"type","number")},m(t,r){u(t,e,r),i(e,o),i(e,c),y(c,n[1]),i(e,s),i(e,l),y(l,n[2]),i(e,d),i(e,v),y(v,n[3]),u(t,b,r),u(t,x,r),k||(w=[h(c,"input",n[8]),h(l,"input",n[9]),h(v,"input",n[10]),h(x,"click",n[11])],k=!0)},p(t,n){2&n&&g(c.value)!==t[1]&&y(c,t[1]),4&n&&g(l.value)!==t[2]&&y(l,t[2]),8&n&&g(v.value)!==t[3]&&y(v,t[3])},i:t,o:t,d(t){t&&a(e),t&&a(b),t&&a(x),k=!1,r(w)}}}function gt(n){let e,o,r,c,s,l;return e=new ht({}),e.$on("close",n[7]),{c(){J(e.$$.fragment),o=m(),r=f("button"),r.textContent="Foreit current game."},m(t,i){K(e,t,i),u(t,o,i),u(t,r,i),c=!0,s||(l=h(r,"click",n[5]),s=!0)},p:t,i(t){c||(Y(e.$$.fragment,t),c=!0)},o(t){D(e.$$.fragment,t),c=!1},d(t){Q(e,t),t&&a(o),t&&a(r),s=!1,l()}}}function vt(t){let n,e,o,r,c,s;const l=[gt,$t],d=[];function p(t,n){return t[0]?0:1}return r=p(t),c=d[r]=l[r](t),{c(){n=f("main"),e=f("h1"),e.textContent="Play svelty-balls!",o=m(),c.c(),$(n,"class","svelte-1esr3ex")},m(t,c){u(t,n,c),i(n,e),i(n,o),d[r].m(n,null),s=!0},p(t,[e]){let o=r;r=p(t),r===o?d[r].p(t,e):(F(),D(d[o],1,1,(()=>{d[o]=null})),R(),c=d[r],c?c.p(t,e):(c=d[r]=l[r](t),c.c()),Y(c,1),c.m(n,null))},i(t){s||(Y(c),s=!0)},o(t){D(c),s=!1},d(t){t&&a(n),d[r].d()}}}function yt(t,n,e){let o,r,c;l(t,et,(t=>e(1,o=t))),l(t,ot,(t=>e(2,r=t))),l(t,rt,(t=>e(3,c=t)));let s=!1;const i=()=>{e(0,s=!0)},u=t=>{e(0,s=!1)};return[s,o,r,c,i,()=>{e(0,s=!1)},u,t=>u(t.detail),function(){o=g(this.value),et.set(o)},function(){r=g(this.value),ot.set(r)},function(){c=g(this.value),rt.set(c)},()=>i()]}return new class extends W{constructor(t){super(),V(this,t,yt,vt,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
